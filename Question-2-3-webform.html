<!DOCTYPE html>
<html lang="en">
<head>
    <title>Accessible Feedback Form</title>
    <meta charset="utf-8">
    <style>
        .control, fieldset {
            margin: 6px 0;
        }
        
        label {
            display: inline-block;
            width: 120px;
            vertical-align: top;
        }
        
        input + label {
            width: auto;
        }
        
        .error, .required {
            color: red;
        }

        .note {
            font-style: italic;
            margin-bottom: 10px;
            color: #333;
        }

        fieldset ul {
            margin: 0;
        }

        .visuallyhidden {
            position: absolute;
            width: 1px;
            height: 1px;
            margin: -1px;
            padding: 0;
            border: 0;
            clip: rect(0, 0, 0, 0);
            overflow: hidden;
        }

        .visible {
            position: static;
            width: auto;
            height: auto;
            margin: 0;
            padding: 0;
            border: none;
            clip: auto;
            overflow: visible;
            color: red;
        }
    </style>
</head>
<body>
    <h1>Feedback Form</h1>

    <!-- Notice that fields marked with * are required -->
    <p class="note">Fields marked with <span class="required">*</span> are required.</p>

    <form aria-labelledby="formTitle" role="form" id="feedbackForm">
        <fieldset>
            <legend id="formTitle">Please provide your details below</legend>
            
            <!-- Full Name field with label, aria-required and inline description for screen readers -->
            <div class="control">
                <label for="name"><strong>Full Name</strong> <span class="required">*</span></label>
                <input id="name" name="name" type="text" aria-required="true" aria-describedby="nameDesc" />
                <span id="nameDesc" class="visuallyhidden">Full name is required.</span>
            </div>
            <!-- Gender section with select options properly grouped and labeled -->
            <div class="control">
                 <label for="gender"><strong>Gender</strong> <span class="required">*</span></label>
                 <select id="gender" name="gender" aria-required="true" aria-describedby="genderDesc">
                      <option value="" disabled selected>Select your gender</option>
                      <option value="Male">Male</option>
                      <option value="Female">Female</option>
                      <option value="Other">Other</option>
                  </select>
                  <span id="genderDesc" class="visuallyhidden">Gender is required. Please select your gender.</span>
            </div>
             <!-- Biography text area with inline instructions for screen readers -->
            <div class="control">
                <label for="biography"><strong>Biography</strong> <span class="required">*</span></label>
                <textarea id="biography" name="biography" rows="6" cols="40" aria-required="true" aria-describedby="bioDesc" placeholder="Include examples on your skills in JavaScript."></textarea>
                <span id="bioDesc" class="visuallyhidden">Biography is required.</span>
            </div>
        </fieldset>

        <!-- Checkbox for accepting terms with label and description -->
        <div class="control">
            <input id="accept_agbs" name="accept_agbs" type="checkbox" value="1" aria-required="true" aria-describedby="termsDesc" />
            <label for="accept_agbs">I accept the terms and conditions <span class="required">*</span></label>
            <span id="termsDesc" class="visuallyhidden">You must accept the terms and conditions to proceed.</span>
        </div>

        <!-- Submit button -->
        <div class="control">
            <input name="validate" type="hidden" value="1" />
            <input type="submit" value="Register" />
        </div>
    </form>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script>
        "use strict";
        $(document).ready(function () {
            $('#feedbackForm').on('submit', function (e) {
                let isValid = true;

                // Full Name validation
                const name = $('#name').val().trim();
                if (!name) {
                    $('#nameDesc').removeClass('visuallyhidden').addClass('visible');
                    isValid = false;
                } else {
                    $('#nameDesc').removeClass('visible').addClass('visuallyhidden');
                }

                // Biography validation
                const bio = $('#biography').val().trim();
                if (!bio) {
                    $('#bioDesc').removeClass('visuallyhidden').addClass('visible');
                    isValid = false;
                } else {
                    $('#bioDesc').removeClass('visible').addClass('visuallyhidden');
                }

                // Gender validation
                const gender = $('#gender').val();
                if (!gender) {
                    $('#genderDesc').removeClass('visuallyhidden').addClass('visible');
                    isValid = false;
                } else {
                    $('#genderDesc').removeClass('visible').addClass('visuallyhidden');
                }

                // Terms and Conditions validation
                const acceptTerms = $('#accept_agbs').is(':checked');
                if (!acceptTerms) {
                    $('#termsDesc').removeClass('visuallyhidden').addClass('visible');
                    isValid = false;
                } else {
                    $('#termsDesc').removeClass('visible').addClass('visuallyhidden');
                }

                // Prevent form submission if validation fails
                if (!isValid) {
                    e.preventDefault();
                }
            });
        });
    </script>
</body>
</html>
